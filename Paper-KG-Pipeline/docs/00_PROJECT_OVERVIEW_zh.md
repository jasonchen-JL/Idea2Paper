# Idea2Paper é¡¹ç›®æ€»ç»“æ–‡æ¡£

> **è¯´æ˜**ï¼šè„šæœ¬å·²åˆ†ç±»æ•´ç†åˆ° `scripts/tools/` ä¸ `scripts/demos/`ã€‚æ—§è·¯å¾„ï¼ˆå¦‚ `scripts/build_entity_v3.py`ï¼‰ä»å¯é€šè¿‡å…¼å®¹è–„å£³è¿è¡Œã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: Idea2Paper - åŸºäºçŸ¥è¯†å›¾è°±çš„å­¦æœ¯è®ºæ–‡è‡ªåŠ¨ç”Ÿæˆç³»ç»Ÿ

**æ ¸å¿ƒç›®æ ‡**: å°†ç”¨æˆ·çš„ç ”ç©¶Ideaè‡ªåŠ¨è½¬åŒ–ä¸ºç¬¦åˆé¡¶ä¼š(ICLR)æ ‡å‡†çš„è®ºæ–‡Story

**æŠ€æœ¯æ ˆ**:
- çŸ¥è¯†å›¾è°±: NetworkX
- å‘é‡æ£€ç´¢: Embedding (Qwen3-Embedding-4B)
- å¤§è¯­è¨€æ¨¡å‹: Qwen3-14B, Qwen2.5-7B-Instruct
- æ•°æ®æº: ICLR 2025è®ºæ–‡æ•°æ®é›†(8,285ç¯‡)

---

## 1. ç³»ç»Ÿæ¶æ„

### 1.1 æ•´ä½“æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ã€Idea2Paper å®Œæ•´æµç¨‹ã€‘                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç”¨æˆ·è¾“å…¥Idea
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                      ã€ç¬¬ä¸€é˜¶æ®µ: çŸ¥è¯†å›¾è°±æ„å»ºã€‘                        â”‚
    â”‚                      (ä¸€æ¬¡æ€§æ„å»º,åç»­å¤ç”¨)                            â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                                        â”‚
    â”‚  1. åŠ è½½ICLRè®ºæ–‡æ•°æ® (8,285ç¯‡)                                        â”‚
    â”‚      â†“                                                                 â”‚
    â”‚  2. æ„å»º4ç±»èŠ‚ç‚¹                                                        â”‚
    â”‚      â”œâ”€ IdeaèŠ‚ç‚¹ (8,284ä¸ª)                                            â”‚
    â”‚      â”œâ”€ PatternèŠ‚ç‚¹ (124ä¸ª, LLMå¢å¼º)                                  â”‚
    â”‚      â”œâ”€ DomainèŠ‚ç‚¹ (98ä¸ª)                                             â”‚
    â”‚      â””â”€ PaperèŠ‚ç‚¹ (8,285ä¸ª)                                           â”‚
    â”‚      â†“                                                                 â”‚
    â”‚  3. æ„å»ºè¾¹å…³ç³» (444,872æ¡)                                            â”‚
    â”‚      â”œâ”€ åŸºç¡€è¿æ¥è¾¹ (Paperâ†’Idea/Pattern/Domain)                       â”‚
    â”‚      â””â”€ å¬å›è¾…åŠ©è¾¹ (Ideaâ†’Domain, Patternâ†’Domain)                     â”‚
    â”‚      â†“                                                                 â”‚
    â”‚  4. è¾“å‡ºçŸ¥è¯†å›¾è°±                                                       â”‚
    â”‚                                                                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                      ã€ç¬¬äºŒé˜¶æ®µ: ä¸‰è·¯å¬å›ã€‘                            â”‚
    â”‚                      (æ¯æ¬¡è¿è¡Œ,çº¦27ç§’)                                â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                                        â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
    â”‚  â”‚  è·¯å¾„1      â”‚   è·¯å¾„2     â”‚   è·¯å¾„3     â”‚                        â”‚
    â”‚  â”‚ ç›¸ä¼¼Idea    â”‚  é¢†åŸŸç›¸å…³   â”‚ ç›¸ä¼¼Paper   â”‚                        â”‚
    â”‚  â”‚ (æƒé‡0.4)   â”‚  (æƒé‡0.2)  â”‚ (æƒé‡0.4)   â”‚                        â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
    â”‚       â”‚              â”‚              â”‚                                 â”‚
    â”‚       â”‚              â”‚              â”‚                                 â”‚
    â”‚  ç²—æ’: Jaccard   åŒ¹é…Domain   ç²—æ’: Jaccard                          â”‚
    â”‚  Top-100         Top-5        Top-100                                â”‚
    â”‚       â†“              â†“              â†“                                 â”‚
    â”‚  ç²¾æ’: Embedding æŸ¥æ‰¾Pattern  ç²¾æ’: Embedding                        â”‚
    â”‚  Top-10          works_well   Top-20                                 â”‚
    â”‚       â†“              â†“              â†“                                 â”‚
    â”‚  è·å–Pattern     è·å–Pattern   è·å–Pattern                           â”‚
    â”‚  å¾—åˆ†            å¾—åˆ†           å¾—åˆ†                                  â”‚
    â”‚       â”‚              â”‚              â”‚                                 â”‚
    â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
    â”‚                      â†“                                                â”‚
    â”‚              åŠ æƒèåˆ & ç²¾æ’                                          â”‚
    â”‚                      â†“                                                â”‚
    â”‚              Top-10 Pattern                                           â”‚
    â”‚                                                                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    ã€ç¬¬ä¸‰é˜¶æ®µ: Storyç”Ÿæˆä¸ä¿®æ­£ã€‘                       â”‚
    â”‚                    (3-10åˆ†é’Ÿ)                                         â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                                        â”‚
    â”‚  1. Patternå¤šç»´åº¦åˆ†ç±»                                                 â”‚
    â”‚      â”œâ”€ Stability (ç¨³å¥å‹)                                            â”‚
    â”‚      â”œâ”€ Novelty (æ–°é¢–å‹)                                              â”‚
    â”‚      â””â”€ Cross-Domain (è·¨åŸŸå‹)                                         â”‚
    â”‚      â†“                                                                 â”‚
    â”‚  2. é€‰æ‹©åˆå§‹Pattern â†’ ç”Ÿæˆåˆç¨¿Story                                   â”‚
    â”‚      â†“                                                                 â”‚
    â”‚  3. Criticå¤šè§’è‰²è¯„å®¡ (Methodology/Novelty/Storyteller)                â”‚
    â”‚      â†“                                                                 â”‚
    â”‚  4. åˆ¤æ–­: è¯„åˆ† >= 7.0?                                                â”‚
    â”‚      â”œâ”€ã€æ˜¯ã€‘â†’ è¿›å…¥ç¬¬å››é˜¶æ®µ                                           â”‚
    â”‚      â””â”€ã€å¦ã€‘â†’ æ™ºèƒ½ä¿®æ­£                                               â”‚
    â”‚                 â”‚                                                      â”‚
    â”‚                 â”œâ”€ æ–°é¢–æ€§åœæ»? â†’ ã€æ–°é¢–æ€§æ¨¡å¼ã€‘                       â”‚
    â”‚                 â”‚   â”œâ”€ éå†Novelty Pattern                            â”‚
    â”‚                 â”‚   â”œâ”€ Idea Fusion (æ¦‚å¿µèåˆ)                         â”‚
    â”‚                 â”‚   â”œâ”€ Story Reflection (è´¨é‡è¯„ä¼°)                    â”‚
    â”‚                 â”‚   â”œâ”€ é‡æ–°ç”ŸæˆStory                                  â”‚
    â”‚                 â”‚   â”œâ”€ Criticè¯„å®¡                                     â”‚
    â”‚                 â”‚   â”œâ”€ åˆ†æ•°ä¸‹é™? â†’ å›æ»š                               â”‚
    â”‚                 â”‚   â””â”€ å…œåº•: é€‰æœ€é«˜åˆ†ç‰ˆæœ¬                             â”‚
    â”‚                 â”‚                                                      â”‚
    â”‚                 â””â”€ æ™®é€šä¿®æ­£ â†’ æ³¨å…¥äº’è¡¥Tricks                          â”‚
    â”‚                     â”œâ”€ ç¼ºæ–°é¢–æ€§ â†’ é•¿å°¾æ³¨å…¥ (Rank 5-10)               â”‚
    â”‚                     â”œâ”€ ç¼ºç¨³å®šæ€§ â†’ å¤´éƒ¨æ³¨å…¥ (Rank 1-3)                â”‚
    â”‚                     â””â”€ è¿”å›æ­¥éª¤2                                      â”‚
    â”‚                                                                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                      ã€ç¬¬å››é˜¶æ®µ: RAGæŸ¥é‡ã€‘                             â”‚
    â”‚                      (çº¦30ç§’)                                         â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                                        â”‚
    â”‚  1. æå–å…³é”®æ–¹æ³• â†’ æ£€ç´¢è¿‘3å¹´é¡¶ä¼šè®ºæ–‡                                  â”‚
    â”‚      â†“                                                                 â”‚
    â”‚  2. åˆ¤æ–­: ç›¸ä¼¼åº¦ > 0.75?                                              â”‚
    â”‚      â”œâ”€ã€å¦ã€‘â†’ è¾“å‡ºFinal Story âœ…                                     â”‚
    â”‚      â””â”€ã€æ˜¯ã€‘â†’ æ’è½¦! Pivotè§„é¿                                        â”‚
    â”‚                 â”œâ”€ åˆ†ææ’è½¦ç‚¹                                         â”‚
    â”‚                 â”œâ”€ ç”Ÿæˆçº¦æŸ (ç¦ç”¨æŠ€æœ¯/é¢†åŸŸè¿ç§»)                       â”‚
    â”‚                 â””â”€ è¿”å›ç¬¬ä¸‰é˜¶æ®µæ­¥éª¤2                                  â”‚
    â”‚                                                                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
è¾“å‡ºFinal Story (JSONæ ¼å¼)
```

**æµç¨‹è¯´æ˜**:
- **ç¬¬ä¸€é˜¶æ®µ**: ç¦»çº¿æ„å»º,åªéœ€è¿è¡Œä¸€æ¬¡
- **ç¬¬äºŒé˜¶æ®µ**: å®æ—¶å¬å›,13å€æé€Ÿ(27ç§’)
- **ç¬¬ä¸‰é˜¶æ®µ**: æ ¸å¿ƒç”Ÿæˆ,æ™ºèƒ½ä¿®æ­£æœºåˆ¶
- **ç¬¬å››é˜¶æ®µ**: æŸ¥é‡éªŒè¯,é¿å…æ’è½¦

### 1.2 æ ¸å¿ƒæ¨¡å—

| å±‚çº§ | æ¨¡å— | æ–‡ä»¶/è„šæœ¬ | ä½œç”¨ |
|------|------|----------|------|
| **æ•°æ®å±‚** | çŸ¥è¯†å›¾è°±æ„å»º | `build_entity_v3.py`, `build_edges.py` | æ„å»ºèŠ‚ç‚¹å’Œè¾¹ |
| **å¬å›å±‚** | ä¸‰è·¯å¬å›ç³»ç»Ÿ | `recall_system.py` | æ£€ç´¢ç›¸å…³Pattern |
| **ç”Ÿæˆå±‚** | Patterné€‰æ‹© | `pattern_selector.py` | å¤šç»´åº¦åˆ†ç±»Pattern |
| **ç”Ÿæˆå±‚** | Idea Fusion | `planner.py` | èåˆåˆ›æ–°Idea |
| **ç”Ÿæˆå±‚** | Storyç”Ÿæˆ | `story_generator.py` | ç”Ÿæˆè®ºæ–‡Story |
| **ç”Ÿæˆå±‚** | Storyåæ€ | `story_reflector.py` | è¯„ä¼°èåˆè´¨é‡ |
| **ç”Ÿæˆå±‚** | Criticè¯„å®¡ | `critic.py` | å¤šè§’è‰²è¯„å®¡ |
| **ç”Ÿæˆå±‚** | æ™ºèƒ½ä¿®æ­£ | `refinement.py` | è¿­ä»£ä¼˜åŒ– |
| **ç”Ÿæˆå±‚** | RAGæŸ¥é‡ | `verifier.py` | æŸ¥é‡ä¸è§„é¿ |
| **ç¼–æ’å±‚** | Pipelineç®¡ç† | `manager.py`, `idea2story_pipeline.py` | æµç¨‹ç¼–æ’ |

---

## 2. çŸ¥è¯†å›¾è°±æ„å»º

### 2.1 æ•°æ®è§„æ¨¡

```
çŸ¥è¯†å›¾è°±ç»Ÿè®¡:
â”œâ”€ èŠ‚ç‚¹æ€»æ•°: 16,791
â”‚  â”œâ”€ Idea:    8,284 (100%è¦†ç›–)
â”‚  â”œâ”€ Pattern: 124 (èšç±»ç”Ÿæˆ)
â”‚  â”œâ”€ Domain:  98 (èšåˆç”Ÿæˆ)
â”‚  â””â”€ Paper:   8,285
â””â”€ è¾¹æ€»æ•°:   444,872
   â”œâ”€ åŸºç¡€è¿æ¥è¾¹: ~25,000
   â””â”€ å¬å›è¾…åŠ©è¾¹: ~420,000
```

### 2.2 èŠ‚ç‚¹å®šä¹‰

**IdeaèŠ‚ç‚¹**: è®ºæ–‡çš„æ ¸å¿ƒåˆ›æ–°ç‚¹
```json
{
  "idea_id": "idea_0",
  "description": "æ ¸å¿ƒæƒ³æ³•æè¿°...",
  "base_problem": "åŸºç¡€é—®é¢˜...",
  "solution_pattern": "è§£å†³æ–¹æ¡ˆ...",
  "pattern_ids": ["pattern_9", ...]
}
```

**PatternèŠ‚ç‚¹**: å†™ä½œå¥—è·¯/æ–¹æ³•æ¨¡æ¿
```json
{
  "pattern_id": "pattern_24",
  "name": "Reframing Graph Learning Scalability",
  "size": 331,
  "llm_enhanced_summary": {
    "representative_ideas": "å½’çº³æ€§æ€»ç»“...",
    "common_tricks": ["æŠ€å·§1", "æŠ€å·§2"]
  }
}
```

**DomainèŠ‚ç‚¹**: ç ”ç©¶é¢†åŸŸ
```json
{
  "domain_id": "domain_0",
  "name": "Natural Language Processing",
  "paper_count": 1076,
  "sub_domains": ["Text Classification", ...]
}
```

**PaperèŠ‚ç‚¹**: å…·ä½“è®ºæ–‡
```json
{
  "paper_id": "RUzSobdYy0V",
  "title": "Quantifying and Mitigating...",
  "domain": "Fairness & Accountability",
  "idea": "æ ¸å¿ƒæƒ³æ³•...",
  "pattern_id": "pattern_9"
}
```

### 2.3 è¾¹å®šä¹‰

**åŸºç¡€è¿æ¥è¾¹**:
- `Paper â†’ Idea` (implements): è®ºæ–‡å®ç°äº†è¯¥Idea
- `Paper â†’ Pattern` (uses_pattern): è®ºæ–‡ä½¿ç”¨äº†è¯¥Pattern
- `Paper â†’ Domain` (in_domain): è®ºæ–‡å±äºè¯¥é¢†åŸŸ

**å¬å›è¾…åŠ©è¾¹**:
- `Idea â†’ Domain` (belongs_to): Ideaæ‰€å±é¢†åŸŸ,æƒé‡=å æ¯”
- `Pattern â†’ Domain` (works_well_in): Patternåœ¨è¯¥é¢†åŸŸçš„æ•ˆæœ,æƒé‡=effectiveness
- `Idea â†’ Paper` (similar_to_paper): ç›¸ä¼¼åº¦æƒé‡(è·¯å¾„3å®æ—¶è®¡ç®—)

### 2.4 è¿è¡Œæ–¹å¼

```bash
# 1. æ„å»ºèŠ‚ç‚¹
python scripts/build_entity_v3.py
# è¾“å‡º: output/nodes_*.json (4ä¸ªæ–‡ä»¶)

# 2. æ„å»ºè¾¹
python scripts/build_edges.py
# è¾“å‡º: output/edges.json, output/knowledge_graph_v2.gpickle
```

**æ‰§è¡Œæ—¶é—´**: èŠ‚ç‚¹æ„å»º15åˆ†é’Ÿ(å«LLMå¢å¼º) + è¾¹æ„å»º3åˆ†é’Ÿ

---

## 3. ä¸‰è·¯å¬å›ç³»ç»Ÿ

### 3.1 å¬å›ç­–ç•¥

| è·¯å¾„ | åŒ¹é…å¯¹è±¡ | æ•æ‰ç»´åº¦ | æƒé‡ | å¬å›æ•°é‡ |
|------|---------|---------|------|---------|
| **è·¯å¾„1** | Idea Description | æ ¸å¿ƒæ€æƒ³ç›¸ä¼¼æ€§ | 0.4 | Top-10 Pattern |
| **è·¯å¾„2** | Domain & Sub-domains | é¢†åŸŸæ³›åŒ–èƒ½åŠ› | 0.2 | Top-5 Pattern |
| **è·¯å¾„3** | Paper Title | ç ”ç©¶ä¸»é¢˜ç›¸ä¼¼æ€§ | 0.4 | Top-10 Pattern |

### 3.2 ä¸¤é˜¶æ®µå¬å›ä¼˜åŒ–

**æ€§èƒ½å¯¹æ¯”**:
```
å…¨é‡Embedding: ~7åˆ†é’Ÿ (8,284æ¬¡APIè°ƒç”¨)
ä¸¤é˜¶æ®µå¬å›:   ~27ç§’ (100æ¬¡APIè°ƒç”¨)
æé€Ÿæ¯”:        13å€
```

**æµç¨‹**:
```
ç²—æ’: Jaccardå¿«é€Ÿç­›é€‰ Top-100 (æ¯«ç§’çº§)
    â†“
ç²¾æ’: Embeddingç²¾ç¡®æ’åº Top-10/20 (~27ç§’)
```

### 3.3 ç›¸ä¼¼åº¦è®¡ç®—

**Jaccardç›¸ä¼¼åº¦**(ç²—æ’):
```python
Jaccard(A, B) = |A âˆ© B| / |A âˆª B|
```

**Embeddingç›¸ä¼¼åº¦**(ç²¾æ’):
```python
Cosine(A, B) = dot(emb_A, emb_B) / (norm(emb_A) * norm(emb_B))
```

### 3.4 è¿è¡Œæ–¹å¼

```bash
# ç‹¬ç«‹è¿è¡Œ
python scripts/simple_recall_demo.py "ä½ çš„ç ”ç©¶Idea"

# ä½œä¸ºç±»ä½¿ç”¨
from recall_system import RecallSystem
system = RecallSystem()
results = system.recall(user_idea, verbose=True)
```

**è¾“å‡º**: Top-10 Patternåˆ—è¡¨,æ¯ä¸ªåŒ…å«(pattern_id, pattern_info, score)

---

## 4. Idea2Story Pipeline

### 4.1 æ ¸å¿ƒæœºåˆ¶

#### (1) Patternå¤šç»´åº¦åˆ†ç±»

**ç›®æ ‡**: ç¡®ä¿Patternå¤šæ ·æ€§

**ç»´åº¦**:
- **Stability** (ç¨³å¥å‹): Rank Top-3 + Cluster Size â‰¥ 15
- **Novelty** (æ–°é¢–å‹): Cluster Size < 10
- **Cross-Domain** (è·¨åŸŸå‹): æ¥è‡ªè·¯å¾„2/3 + Domainä¸åŒ

#### (2) Idea Fusion

**ç›®æ ‡**: æ¦‚å¿µå±‚é¢çš„æœ‰æœºèåˆ,è€ŒéæŠ€æœ¯å †ç Œ

**æµç¨‹**:
```
åŸIdea + æ–°Pattern â†’ LLMç”ŸæˆèåˆIdea
    â†“
èåˆIdeaåŒ…å«:
  - fused_core_idea: èåˆåçš„æ ¸å¿ƒæƒ³æ³•
  - conceptual_bridge: æ¦‚å¿µæ¡¥æ¢
  - reframed_problem: é‡æ„åçš„é—®é¢˜
  - innovation_angle: ç‹¬ç‰¹åˆ›æ–°ç‚¹
```

**ç¤ºä¾‹**:
```
åŸIdea: ä½¿ç”¨å¤§æ¨¡å‹åšæ•°æ®å¢å¼º
æ–°Pattern: è¯¾ç¨‹å­¦ä¹ 
èåˆIdea: åŸºäºLLMç”Ÿæˆçš„éš¾åº¦è‡ªé€‚åº”è¯¾ç¨‹å­¦ä¹ æ¡†æ¶
```

#### (3) Story Reflection

**ç›®æ ‡**: è¯„ä¼°èåˆè´¨é‡,ç¡®ä¿æ¦‚å¿µç»Ÿä¸€

**è¯„åˆ†**:
```
fusion_quality = 0.4 Ã— è¿è´¯æ€§ + 0.4 Ã— èåˆä¸°å¯Œåº¦ + 0.2 Ã— Fusion Ideaå¥–åŠ±
```

**é˜ˆå€¼**: `fusion_quality >= 0.65` è®¤ä¸ºèåˆæˆåŠŸ

#### (4) Criticå¤šè§’è‰²è¯„å®¡

**è§’è‰²**:
- **Reviewer A** (Methodology): æŠ€æœ¯åˆç†æ€§
- **Reviewer B** (Novelty): åˆ›æ–°æ€§
- **Reviewer C** (Storyteller): å™äº‹å®Œæ•´æ€§

**é€šè¿‡æ ‡å‡†**: å¹³å‡åˆ† >= 7.0

#### (5) æ™ºèƒ½ä¿®æ­£

**æ–°é¢–æ€§æ¨¡å¼**:
- **è§¦å‘**: æ–°é¢–æ€§åˆ†æ•°åœæ»(â‰¤ ä¸Šä¸€è½® + 0.5)
- **æµç¨‹**: éå†æ‰€æœ‰Novelty Pattern,æ¯ä¸ªéƒ½ç»è¿‡Fusionâ†’Reflectionâ†’ç”Ÿæˆâ†’Critic
- **å…œåº•**: é€‰æ‹©æœ€é«˜åˆ†ç‰ˆæœ¬

**åˆ†æ•°é€€åŒ–å›æ»š**:
- **è§¦å‘**: ä»»ä¸€ç»´åº¦åˆ†æ•°ä¸‹é™ > 0.1
- **æµç¨‹**: æ¢å¤Story + æ ‡è®°å¤±è´¥ + åˆ é™¤Tricks + ç»§ç»­è¿­ä»£

**æ™®é€šä¿®æ­£**:
- **é•¿å°¾æ³¨å…¥**: ç¼ºæ–°é¢–æ€§ â†’ æ³¨å…¥Rank 5-10çš„å†·é—¨Pattern
- **å¤´éƒ¨æ³¨å…¥**: ç¼ºç¨³å®šæ€§ â†’ æ³¨å…¥Rank 1-3çš„æˆç†ŸPattern

#### (6) RAGæŸ¥é‡ä¸è§„é¿

**æŸ¥é‡**: æ£€ç´¢è¿‘3å¹´é¡¶ä¼šè®ºæ–‡,ç›¸ä¼¼åº¦ > 0.75 è®¤ä¸ºæ’è½¦

**è§„é¿**: Pivotç­–ç•¥ç”Ÿæˆçº¦æŸ(é¢†åŸŸè¿ç§»ã€è®¾å®šé™åˆ¶ç­‰),é‡æ–°ç”ŸæˆStory

### 4.2 è¿è¡Œæ–¹å¼

```bash
python scripts/idea2story_pipeline.py "ä½ çš„ç ”ç©¶Idea"
```

**è¾“å‡º**:
```
output/
â”œâ”€â”€ final_story.json          # æœ€ç»ˆè®ºæ–‡Story
â”œâ”€â”€ pipeline_result.json      # å®Œæ•´æµç¨‹ç»“æœ
â””â”€â”€ log.json                  # è¯¦ç»†æ—¥å¿—
```

**æ‰§è¡Œæ—¶é—´**: 3-10åˆ†é’Ÿ(å–å†³äºè¿­ä»£æ¬¡æ•°)

---

## 5. å‚æ•°é…ç½®æ€»è§ˆ

### 5.1 çŸ¥è¯†å›¾è°±æ„å»º

```python
# scripts/build_entity_v3.py

# æ•°æ®æºè·¯å¾„
DATA_DIR = PROJECT_ROOT / "data" / "ICLR_25"
ASSIGNMENTS_FILE = DATA_DIR / "assignments.jsonl"
CLUSTER_LIBRARY_FILE = DATA_DIR / "cluster_library_sorted.jsonl"
PATTERN_DETAILS_FILE = DATA_DIR / "iclr_patterns_full.jsonl"

# LLM APIé…ç½®
SILICONFLOW_API_KEY = os.getenv("SILICONFLOW_API_KEY")
LLM_API_URL = "https://api.siliconflow.cn/v1/chat/completions"
LLM_MODEL = "Qwen/Qwen2.5-7B-Instruct"
```

### 5.2 å¬å›ç³»ç»Ÿ

```python
# scripts/recall_system.py

class RecallConfig:
    # è·¯å¾„æƒé‡
    PATH1_WEIGHT = 0.4  # ç›¸ä¼¼Idea
    PATH2_WEIGHT = 0.2  # é¢†åŸŸç›¸å…³
    PATH3_WEIGHT = 0.4  # ç›¸ä¼¼Paper

    # å¬å›æ•°é‡
    PATH1_TOP_K_IDEAS = 10
    PATH1_FINAL_TOP_K = 10
    PATH2_TOP_K_DOMAINS = 5
    PATH2_FINAL_TOP_K = 5
    PATH3_TOP_K_PAPERS = 20
    PATH3_FINAL_TOP_K = 10
    FINAL_TOP_K = 10

    # ä¸¤é˜¶æ®µå¬å›
    USE_EMBEDDING = True
    TWO_STAGE_RECALL = True
    COARSE_RECALL_SIZE = 100
    FINE_RECALL_SIZE = 20
```

### 5.3 Pipeline

```python
# scripts/pipeline/config.py

class PipelineConfig:
    # Patterné€‰æ‹©
    SELECT_PATTERN_COUNT = 3
    CONSERVATIVE_RANK_RANGE = (0, 2)
    INNOVATIVE_CLUSTER_SIZE_THRESHOLD = 10

    # Criticé˜ˆå€¼
    PASS_SCORE = 7.0
    MAX_REFINE_ITERATIONS = 3

    # æ–°é¢–æ€§æ¨¡å¼
    NOVELTY_MODE_MAX_PATTERNS = 10
    NOVELTY_SCORE_THRESHOLD = 6.0
    NOVELTY_STAGNATION_DELTA = 0.5

    # Reflection
    FUSION_QUALITY_THRESHOLD = 0.65

    # å›æ»š
    SCORE_DEGRADATION_THRESHOLD = 0.1

    # RAGæŸ¥é‡
    COLLISION_THRESHOLD = 0.75

    # Refinementç­–ç•¥
    TAIL_INJECTION_RANK_RANGE = (4, 9)
    HEAD_INJECTION_RANK_RANGE = (0, 2)
    HEAD_INJECTION_CLUSTER_THRESHOLD = 15

# LLMé…ç½®
LLM_API_KEY = os.getenv("SILICONFLOW_API_KEY")
LLM_API_URL = "https://api.siliconflow.cn/v1/chat/completions"
LLM_MODEL = "Qwen/Qwen3-14B"
```

---

## 6. å®Œæ•´è¿è¡Œæµç¨‹

### 6.1 ç¯å¢ƒå‡†å¤‡

```bash
# 1. å…‹éš†é¡¹ç›®
cd /Users/gaoge/code/mycode/Idea2Paper/Paper-KG-Pipeline

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. è®¾ç½®ç¯å¢ƒå˜é‡
export SILICONFLOW_API_KEY="your_api_key_here"
```

### 6.2 ä¸€æ¬¡æ€§æ„å»º

```bash
# æ„å»ºçŸ¥è¯†å›¾è°±(åªéœ€è¿è¡Œä¸€æ¬¡)
python scripts/build_entity_v3.py   # 15åˆ†é’Ÿ
python scripts/build_edges.py       # 3åˆ†é’Ÿ
```

### 6.3 ä½¿ç”¨Pipeline

```bash
# ç”Ÿæˆè®ºæ–‡Story
python scripts/idea2story_pipeline.py "ä½ çš„ç ”ç©¶Ideaæè¿°"

# ç¤ºä¾‹
python scripts/idea2story_pipeline.py "ä½¿ç”¨å¼ºåŒ–å­¦ä¹ ä¼˜åŒ–å¤§æ¨¡å‹æ¨ç†æ•ˆç‡"
```

### 6.4 æŸ¥çœ‹ç»“æœ

```bash
# æŸ¥çœ‹æœ€ç»ˆStory
cat output/final_story.json

# æŸ¥çœ‹å®Œæ•´æµç¨‹
cat output/pipeline_result.json

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
cat output/log.json | jq '.'
```

---

## 7. æ ¸å¿ƒåˆ›æ–°ç‚¹

### 7.1 çŸ¥è¯†å›¾è°±å±‚é¢

âœ… **LLMå¢å¼ºPattern**: ä¸ºæ¯ä¸ªPattern clusterç”Ÿæˆå½’çº³æ€§æ€»ç»“
âœ… **åŒå±‚æè¿°**: å…·ä½“ç¤ºä¾‹ + å…¨å±€æ€»ç»“,æ—¢å¯å­¦ä¹ åˆå¯ç†è§£
âœ… **è´¨é‡å¯¼å‘è¾¹æƒé‡**: åŸºäºè®ºæ–‡è´¨é‡å’ŒPatternæ•ˆæœè®¡ç®—è¾¹æƒé‡

### 7.2 å¬å›å±‚é¢

âœ… **ä¸‰è·¯äº’è¡¥å¬å›**: ä»æ€æƒ³ã€é¢†åŸŸã€è®ºæ–‡ä¸‰ä¸ªç»´åº¦æ•æ‰ç›¸å…³æ€§
âœ… **ä¸¤é˜¶æ®µä¼˜åŒ–**: Jaccardç²—æ’ + Embeddingç²¾æ’,æé€Ÿ13å€
âœ… **å®æ—¶è®¡ç®—è·¯å¾„3**: é¿å…é¢„æ„å»ºå†—ä½™è¾¹,ç¡®ä¿äº’è¡¥æ€§

### 7.3 ç”Ÿæˆå±‚é¢

âœ… **Idea Fusion**: æ¦‚å¿µå±‚é¢çš„æœ‰æœºèåˆ,è€ŒéæŠ€æœ¯å †ç Œ
âœ… **Story Reflection**: åæ€èåˆè´¨é‡,è¯„ä¼°æ¦‚å¿µç»Ÿä¸€æ€§
âœ… **æ–°é¢–æ€§ä¼˜å…ˆæ¨¡å¼**: åœæ»æ—¶è‡ªåŠ¨å‡çº§,ç³»ç»Ÿæ€§æå‡åˆ›æ–°æ€§
âœ… **æ™ºèƒ½å›æ»š**: é¿å…æ— æ•ˆä¿®æ­£,æé«˜è¿­ä»£æ•ˆç‡
âœ… **å…œåº•ç­–ç•¥**: ä¿è¯è¾“å‡ºè´¨é‡,é€‰æ‹©æœ€é«˜åˆ†ç‰ˆæœ¬

---

## 8. ç³»ç»Ÿä¼˜åŠ¿

### 8.1 è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜

- âœ… å®Œå…¨è‡ªåŠ¨åŒ–æµç¨‹,æ— éœ€äººå·¥å¹²é¢„
- âœ… æ™ºèƒ½å†³ç­–æœºåˆ¶(æ–°é¢–æ€§æ¨¡å¼ã€å›æ»šã€å…œåº•)
- âœ… è‡ªé€‚åº”å‚æ•°è°ƒæ•´

### 8.2 è´¨é‡ä¿éšœå¤šå±‚

1. **Patternå±‚**: LLMå¢å¼ºçš„é«˜è´¨é‡Patternåº“
2. **å¬å›å±‚**: ä¸‰è·¯äº’è¡¥å¬å›,è¦†ç›–å…¨é¢
3. **èåˆå±‚**: Idea Fusionç¡®ä¿æ¦‚å¿µç»Ÿä¸€
4. **åæ€å±‚**: Story Reflectionè¯„ä¼°èåˆè´¨é‡
5. **è¯„å®¡å±‚**: ä¸‰è§’è‰²Criticå…¨é¢è¯„ä¼°
6. **æŸ¥é‡å±‚**: RAGé¿å…æ’è½¦

### 8.3 æ•ˆç‡ä¼˜åŒ–å……åˆ†

- âœ… ä¸¤é˜¶æ®µå¬å›æé€Ÿ13å€(7åˆ†é’Ÿâ†’27ç§’)
- âœ… æ™ºèƒ½å›æ»šé¿å…æ— æ•ˆè¿­ä»£
- âœ… Patternå¤±è´¥æ ‡è®°é¿å…é‡å¤å°è¯•
- âœ… LLMå“åº”ç¼“å­˜å‡å°‘APIè°ƒç”¨

### 8.4 å¯æ‰©å±•æ€§å¼º

- âœ… æ¨¡å—åŒ–è®¾è®¡,æ˜“äºæ·»åŠ æ–°åŠŸèƒ½
- âœ… æ”¯æŒå¢é‡æ›´æ–°çŸ¥è¯†å›¾è°±
- âœ… å¯é€‚é…å…¶ä»–ä¼šè®®æ•°æ®æº
- âœ… å¯æ·»åŠ æ–°çš„å¬å›è·¯å¾„

---

## 9. å½“å‰å±€é™ä¸æ”¹è¿›æ–¹å‘

### 9.1 æ•°æ®å±‚é¢

**å½“å‰å±€é™**:
- âš ï¸ Domainç²’åº¦è¿‡ç²—,98ä¸ªDomainè¦†ç›–8,285ç¯‡è®ºæ–‡

**æ”¹è¿›æ–¹å‘**:
- ğŸ“Œ å¼•å…¥Domainå±‚çº§ç»“æ„(ä¸»é¢†åŸŸâ†’å­é¢†åŸŸ)
- ğŸ“Œ ä½¿ç”¨sub_domainsè¿›è¡Œç²¾ç»†åŒ¹é…
- ğŸ“Œ æ‰©å±•åˆ°æ›´å¤šä¼šè®®çš„ Review æ•°æ®

### 9.2 å¬å›å±‚é¢

**å½“å‰å±€é™**:
- âš ï¸ è·¯å¾„2 DomainåŒ¹é…åŸºäºå…³é”®è¯,å¯èƒ½ä¸ç²¾ç¡®
- âš ï¸ å¬å›é€Ÿåº¦ä»æœ‰ä¼˜åŒ–ç©ºé—´(27ç§’)

**æ”¹è¿›æ–¹å‘**:
- ğŸ“Œ ä½¿ç”¨Embeddingè®¡ç®—Ideaä¸Domainçš„è¯­ä¹‰ç›¸ä¼¼åº¦
- ğŸ“Œ å¼•å…¥å‘é‡æ•°æ®åº“(Faiss/Milvus),æé€Ÿåˆ°1-3ç§’
- ğŸ“Œ é¢„è®¡ç®—å¹¶ç¼“å­˜æ‰€æœ‰Embedding

### 9.3 ç”Ÿæˆå±‚é¢

**å½“å‰å±€é™**:
- âš ï¸ Fusionè´¨é‡è¯„åˆ†ä¾èµ–LLM,å¯èƒ½ä¸å¤Ÿç¨³å®š
- âš ï¸ æ–°é¢–æ€§æ¨¡å¼éå†10ä¸ªPatternå¯èƒ½è€—æ—¶è¾ƒé•¿

**æ”¹è¿›æ–¹å‘**:
- ğŸ“Œ å¼•å…¥å¯å­¦ä¹ çš„èåˆè´¨é‡è¯„åˆ†æ¨¡å‹
- ğŸ“Œ æ ¹æ®å†å²æ•°æ®ä¼˜åŒ–Patterné€‰æ‹©é¡ºåº
- ğŸ“Œ å¹¶è¡Œç”Ÿæˆå¤šä¸ªStoryå€™é€‰

### 9.4 è¯„å®¡å±‚é¢

**å½“å‰å±€é™**:
- âš ï¸ Criticè¯„åˆ†ä¾èµ–LLM,å¯èƒ½å­˜åœ¨æ³¢åŠ¨
- âš ï¸ æ— ç”¨æˆ·åé¦ˆæœºåˆ¶

**æ”¹è¿›æ–¹å‘**:
- ğŸ“Œ æ”¶é›†çœŸå®å®¡ç¨¿æ•°æ®,è®­ç»ƒä¸“ç”¨Criticæ¨¡å‹
- ğŸ“Œ å¼•å…¥ç”¨æˆ·åé¦ˆ,åœ¨çº¿å­¦ä¹ è°ƒæ•´æƒé‡
- ğŸ“Œ A/Bæµ‹è¯•ä¸åŒç­–ç•¥çš„æ•ˆæœ

---

## 10. æ–‡æ¡£ç´¢å¼•

### 10.1 æ ¸å¿ƒæ–‡æ¡£

| æ–‡æ¡£ | è·¯å¾„ | å†…å®¹ |
|------|------|------|
| **é¡¹ç›®æ€»ç»“** | `docs/00_PROJECT_OVERVIEW.md` | æœ¬æ–‡æ¡£,æ•´ä½“æ¦‚è¿° |
| **çŸ¥è¯†å›¾è°±æ„å»º** | `docs/01_KG_CONSTRUCTION.md` | æ•°æ®æºã€èŠ‚ç‚¹ã€è¾¹ã€è¿è¡Œæ–¹å¼ |
| **å¬å›ç³»ç»Ÿ** | `docs/02_RECALL_SYSTEM.md` | ä¸‰è·¯å¬å›ã€ç›¸ä¼¼åº¦è®¡ç®—ã€å‚æ•°é…ç½® |
| **Idea2Story Pipeline** | `docs/03_IDEA2STORY_PIPELINE.md` | Patterné€‰æ‹©ã€Fusionã€Reflectionã€Critic |

### 10.2 è¾…åŠ©æ–‡æ¡£

| æ–‡æ¡£ | è·¯å¾„ | å†…å®¹ |
|------|------|------|
| **è¾¹ç±»å‹è¯´æ˜** | `docs/EDGE_TYPES.md` | è¯¦ç»†çš„è¾¹å®šä¹‰å’Œæƒé‡è®¡ç®— |
| **Patternè¯„åˆ†è§£é‡Š** | `docs/PATTERN_SCORING_EXPLAINED.md` | Patternå¾—åˆ†è®¡ç®—é€»è¾‘ |
| **ä¸¤é˜¶æ®µå¬å›ä¼˜åŒ–** | `docs/TWO_STAGE_RECALL_OPTIMIZATION.md` | å¬å›æ€§èƒ½ä¼˜åŒ–ç»†èŠ‚ |
| **æ•°æ®æ ¼å¼å¯¹æ¯”** | `docs/Data_Format_Comparison.md` | V2 vs V3æ•°æ®æ ¼å¼å˜åŒ– |

### 10.3 å†å²æ–‡æ¡£(å½’æ¡£)

ä»¥ä¸‹æ–‡æ¡£è®°å½•äº†ç³»ç»Ÿæ¼”è¿›å†å²,ä½†æ ¸å¿ƒå†…å®¹å·²æ•´åˆåˆ°ä¸Šè¿°4ä¸ªä¸»æ–‡æ¡£ä¸­:
- `NOVELTY_MODE_FIX.md`
- `REFLECTION_REGENERATION_FIX.md`
- `WORKFLOW_CORRECTION_2025-01-25.md`
- `REFINE_SYSTEM_UPGRADE.md`
- `RECALL_USAGE_V3.md`
- ç­‰

---

## 11. ä»£ç ç»“æ„

```
Paper-KG-Pipeline/
â”œâ”€â”€ data/                           # æ•°æ®æº
â”‚   â””â”€â”€ ICLR_25/
â”‚       â”œâ”€â”€ assignments.jsonl
â”‚       â”œâ”€â”€ cluster_library_sorted.jsonl
â”‚       â””â”€â”€ iclr_patterns_full.jsonl
â”‚
â”œâ”€â”€ output/                         # è¾“å‡ºæ–‡ä»¶
â”‚   â”œâ”€â”€ nodes_*.json               # 4ç±»èŠ‚ç‚¹
â”‚   â”œâ”€â”€ edges.json                 # è¾¹æ•°æ®
â”‚   â”œâ”€â”€ knowledge_graph_v2.gpickle # NetworkXå›¾è°±
â”‚   â”œâ”€â”€ final_story.json           # æœ€ç»ˆStory
â”‚   â””â”€â”€ pipeline_result.json       # æµç¨‹ç»“æœ
â”‚
â”œâ”€â”€ scripts/                        # æ ¸å¿ƒè„šæœ¬
â”‚   â”œâ”€â”€ build_entity_v3.py         # æ„å»ºèŠ‚ç‚¹
â”‚   â”œâ”€â”€ build_edges.py             # æ„å»ºè¾¹
â”‚   â”œâ”€â”€ recall_system.py           # å¬å›ç³»ç»Ÿ(ç±»å°è£…)
â”‚   â”œâ”€â”€ simple_recall_demo.py      # å¬å›Demo
â”‚   â”œâ”€â”€ idea2story_pipeline.py     # Pipelineä¸»å…¥å£
â”‚   â”‚
â”‚   â””â”€â”€ pipeline/                   # Pipelineæ¨¡å—
â”‚       â”œâ”€â”€ config.py              # é…ç½®å‚æ•°
â”‚       â”œâ”€â”€ manager.py             # æµç¨‹ç¼–æ’
â”‚       â”œâ”€â”€ pattern_selector.py    # Patternåˆ†ç±»
â”‚       â”œâ”€â”€ planner.py             # Idea Fusion
â”‚       â”œâ”€â”€ story_generator.py     # Storyç”Ÿæˆ
â”‚       â”œâ”€â”€ story_reflector.py     # Storyåæ€
â”‚       â”œâ”€â”€ critic.py              # Criticè¯„å®¡
â”‚       â”œâ”€â”€ refinement.py          # æ™ºèƒ½ä¿®æ­£
â”‚       â”œâ”€â”€ verifier.py            # RAGæŸ¥é‡
â”‚       â””â”€â”€ utils.py               # å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ docs/                           # æ–‡æ¡£
â”‚   â”œâ”€â”€ 00_PROJECT_OVERVIEW.md     # é¡¹ç›®æ€»ç»“(æœ¬æ–‡æ¡£)
â”‚   â”œâ”€â”€ 01_KG_CONSTRUCTION.md      # çŸ¥è¯†å›¾è°±æ„å»º
â”‚   â”œâ”€â”€ 02_RECALL_SYSTEM.md        # å¬å›ç³»ç»Ÿ
â”‚   â””â”€â”€ 03_IDEA2STORY_PIPELINE.md  # Idea2Story Pipeline
â”‚
â””â”€â”€ requirements.txt                # ä¾èµ–
```

---

## 12. å…³é”®æŒ‡æ ‡

### 12.1 æ•°æ®è§„æ¨¡

```
çŸ¥è¯†å›¾è°±:
  - èŠ‚ç‚¹: 16,791 ä¸ª
  - è¾¹:   444,872 æ¡
  - Pattern: 124 ä¸ª(124ä¸ªå·²LLMå¢å¼º)
  - Ideaè¦†ç›–ç‡: 100% (8,284/8,285)
```

### 12.2 æ€§èƒ½æŒ‡æ ‡

```
å¬å›é€Ÿåº¦:
  - å…¨é‡Embedding: ~7åˆ†é’Ÿ
  - ä¸¤é˜¶æ®µå¬å›:   ~27ç§’
  - æé€Ÿæ¯”:        13å€

Pipelineæ‰§è¡Œæ—¶é—´:
  - æœ€å¿«: 3åˆ†é’Ÿ (é¦–æ¬¡é€šè¿‡)
  - å…¸å‹: 5-7åˆ†é’Ÿ (2-3è½®ä¿®æ­£)
  - æœ€æ…¢: 10åˆ†é’Ÿ (æ–°é¢–æ€§æ¨¡å¼)
```

### 12.3 è´¨é‡æŒ‡æ ‡

```
Criticè¯„å®¡:
  - é€šè¿‡æ ‡å‡†: å¹³å‡åˆ† >= 7.0
  - ç»´åº¦: Methodology, Novelty, Storyteller
  - æ–°é¢–æ€§æ¨¡å¼æå‡: 0.5-1.5åˆ†

Fusionè´¨é‡:
  - é˜ˆå€¼: >= 0.65
  - å…¸å‹å€¼: 0.68-0.75
  - è¯„åˆ†ç»´åº¦: è¿è´¯æ€§(40%) + èåˆä¸°å¯Œåº¦(40%) + Fusion Ideaå¥–åŠ±(20%)
```

---

## 13. ä½¿ç”¨å»ºè®®

### 13.1 å¿«é€Ÿå¼€å§‹

```bash
# 1. é¦–æ¬¡è¿è¡Œ(æ„å»ºçŸ¥è¯†å›¾è°±)
python scripts/build_entity_v3.py
python scripts/build_edges.py

# 2. ç”Ÿæˆè®ºæ–‡Story
python scripts/idea2story_pipeline.py "ä½ çš„ç ”ç©¶Idea"

# 3. æŸ¥çœ‹ç»“æœ
cat output/final_story.json
```

### 13.2 å‚æ•°è°ƒä¼˜

**æå‡æ–°é¢–æ€§**:
```python
# å¢åŠ æ–°é¢–æ€§æ¨¡å¼å°è¯•æ¬¡æ•°
PipelineConfig.NOVELTY_MODE_MAX_PATTERNS = 15  # é»˜è®¤10

# æé«˜æ–°é¢–æ€§æƒé‡
RecallConfig.PATH1_WEIGHT = 0.5  # é»˜è®¤0.4,æé«˜ç›¸ä¼¼Ideaæƒé‡
```

**æå‡ç¨³å®šæ€§**:
```python
# é™ä½èåˆè´¨é‡é˜ˆå€¼
PipelineConfig.FUSION_QUALITY_THRESHOLD = 0.60  # é»˜è®¤0.65

# å¢åŠ å¤´éƒ¨Patternæƒé‡
RecallConfig.PATH3_WEIGHT = 0.5  # é»˜è®¤0.4,æé«˜é«˜è´¨é‡Paperæƒé‡
```

**åŠ é€Ÿå¬å›**:
```python
# å‡å°‘å¬å›æ•°é‡
RecallConfig.PATH1_TOP_K_IDEAS = 5   # é»˜è®¤10
RecallConfig.PATH3_TOP_K_PAPERS = 10 # é»˜è®¤20
```

### 13.3 ç›‘æ§å…³é”®äº‹ä»¶

```bash
# æ–°é¢–æ€§æ¨¡å¼æ¿€æ´»
grep "æ¿€æ´»ã€æ–°é¢–æ€§æ¨¡å¼ã€‘" output/log.json

# èåˆè´¨é‡è¯„åˆ†
grep "èåˆè´¨é‡è¯„åˆ†" output/log.json

# å›æ»šäº‹ä»¶
grep "ã€ROLLBACK TRIGGEREDã€‘" output/log.json

# æœ€ç»ˆé€šè¿‡
grep "ğŸ‰ Critic è¯„å®¡é€šè¿‡" output/log.json
```

---

## 14. æ•…éšœæ’æŸ¥

### 14.1 ç¯å¢ƒé—®é¢˜

**Q: API keyæ— æ•ˆ**
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo $SILICONFLOW_API_KEY

# è®¾ç½®ç¯å¢ƒå˜é‡
export SILICONFLOW_API_KEY="your_key_here"
```

**Q: ä¾èµ–ç¼ºå¤±**
```bash
# é‡æ–°å®‰è£…ä¾èµ–
pip install -r requirements.txt --upgrade
```

### 14.2 æ•°æ®é—®é¢˜

**Q: èŠ‚ç‚¹æ–‡ä»¶ä¸å­˜åœ¨**
```bash
# é‡æ–°æ„å»ºçŸ¥è¯†å›¾è°±
python scripts/build_entity_v3.py
python scripts/build_edges.py
```

**Q: å¬å›ç»“æœä¸ºç©º**
```bash
# æ£€æŸ¥çŸ¥è¯†å›¾è°±æ˜¯å¦æ„å»ºæˆåŠŸ
ls -lh output/nodes_*.json
ls -lh output/knowledge_graph_v2.gpickle
```

### 14.3 Pipelineé—®é¢˜

**Q: Fusionè´¨é‡æ€»æ˜¯ä½äºé˜ˆå€¼**
```python
# é™ä½é˜ˆå€¼æˆ–æ”¹è¿›Fusion Prompt
PipelineConfig.FUSION_QUALITY_THRESHOLD = 0.60
```

**Q: æ–°é¢–æ€§æ¨¡å¼éå†å®Œä»æœªé€šè¿‡**
```
# æ£€æŸ¥logä¸­çš„å…œåº•ç­–ç•¥
grep "å…œåº•ç­–ç•¥" output/log.json
# ç³»ç»Ÿä¼šè‡ªåŠ¨é€‰æ‹©æœ€é«˜åˆ†ç‰ˆæœ¬è¾“å‡º
```

---

## 15. æ€»ç»“

### 15.1 æ ¸å¿ƒæˆæœ

âœ… **å®Œæ•´çš„çŸ¥è¯†å›¾è°±ç³»ç»Ÿ**: 16,791èŠ‚ç‚¹,444,872æ¡è¾¹
âœ… **é«˜æ•ˆçš„å¬å›ç³»ç»Ÿ**: 13å€æé€Ÿ,ç§’çº§å“åº”
âœ… **æ™ºèƒ½çš„ç”ŸæˆPipeline**: Fusion+Reflection+Critic+æ™ºèƒ½ä¿®æ­£
âœ… **è´¨é‡ä¿éšœæœºåˆ¶**: å¤šå±‚æ¬¡æ£€æŸ¥,è‡ªåŠ¨å›æ»š,å…œåº•ç­–ç•¥
âœ… **å®Œæ•´çš„æ–‡æ¡£ä½“ç³»**: 4ä¸ªæ ¸å¿ƒæ–‡æ¡£,è¦†ç›–æ„å»ºã€å¬å›ã€ç”Ÿæˆ

### 15.2 æŠ€æœ¯äº®ç‚¹

âœ… **æ¦‚å¿µå±‚é¢èåˆ**: Idea Fusionå®ç°æœ‰æœºç»Ÿä¸€è€ŒéæŠ€æœ¯å †ç Œ
âœ… **èåˆè´¨é‡åæ€**: Story Reflectorè¯„ä¼°èåˆæ•ˆæœ
âœ… **æ–°é¢–æ€§ä¼˜å…ˆ**: åœæ»æ—¶è‡ªåŠ¨å‡çº§ä¸ºæ–°é¢–æ€§æ¨¡å¼
âœ… **æ™ºèƒ½å›æ»š**: é¿å…æ— æ•ˆä¿®æ­£,æé«˜æ•ˆç‡
âœ… **LLMå¢å¼ºPattern**: åŒå±‚æè¿°æå‡å¯ç”¨æ€§

### 15.3 åº”ç”¨ä»·å€¼

âœ… **ç§‘ç ”è¾…åŠ©**: å¸®åŠ©ç ”ç©¶äººå‘˜å¿«é€Ÿç”Ÿæˆè®ºæ–‡æ¡†æ¶
âœ… **åˆ›æ–°æ¢ç´¢**: é€šè¿‡Patternèåˆå‘ç°æ–°ç ”ç©¶æ–¹å‘
âœ… **å†™ä½œæŒ‡å¯¼**: æä¾›ç»“æ„åŒ–çš„è®ºæ–‡ç»„ç»‡å»ºè®®
âœ… **æ–‡çŒ®è°ƒç ”**: åŸºäºçŸ¥è¯†å›¾è°±å¿«é€Ÿå®šä½ç›¸å…³å·¥ä½œ

### 15.4 æœªæ¥å±•æœ›

ğŸ“Œ **æ•°æ®æ‰©å±•**: æ•´åˆæ›´å¤šä¼šè®®æ•°æ®(CVPR, NeurIPS, ACLç­‰)
ğŸ“Œ **æ¨¡å‹ä¼˜åŒ–**: è®­ç»ƒä¸“ç”¨çš„Fusionå’ŒCriticæ¨¡å‹
ğŸ“Œ **ç”¨æˆ·äº¤äº’**: å¼•å…¥ç”¨æˆ·åé¦ˆ,åœ¨çº¿å­¦ä¹ ä¼˜åŒ–
ğŸ“Œ **å¤šæ¨¡æ€æ”¯æŒ**: æ•´åˆå›¾è¡¨ã€å…¬å¼ã€ä»£ç ç­‰å¤šæ¨¡æ€ä¿¡æ¯

---

## 16. è‡´è°¢

æ„Ÿè°¢ICLR 2025è®ºæ–‡æ•°æ®é›†çš„æ”¯æŒ,æ„Ÿè°¢SiliconFlowæä¾›çš„LLM APIæœåŠ¡ã€‚

---

**ç”Ÿæˆæ—¶é—´**: 2026-01-25
**ç‰ˆæœ¬**: V1.0
**ä½œè€…**: Idea2Paper Team

**è”ç³»æ–¹å¼**: å‚è€ƒå„æ ¸å¿ƒæ–‡æ¡£è·å–è¯¦ç»†æŠ€æœ¯æ”¯æŒ
